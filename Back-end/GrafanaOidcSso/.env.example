# ========================================
# Grafana OIDC SSO - Configuration
# ========================================
#
# This file contains the OAuth configuration needed to connect
# Grafana to Microsoft Entra ID (Azure AD) using OIDC.
#
# IMPORTANT: Copy this file to .env and fill in your actual values
#
# cp .env.example .env
#

# ========================================
# HOW TO GET THESE VALUES
# ========================================
#
# 1. Go to Azure Portal -> Microsoft Entra ID -> App registrations
# 2. Create a new registration or select an existing one
# 3. Copy the Application (client) ID and Directory (tenant) ID from Overview
# 4. Go to Certificates & secrets -> + New client secret
# 5. Copy the secret VALUE (not the Secret ID!) - it only appears once!
# 6. Configure Redirect URI: http://localhost:3001/login/generic_oauth
#

# ========================================
# REQUIRED CONFIGURATION
# ========================================

# Application (client) ID from App Registration -> Overview
# Format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx (GUID)
OAUTH_CLIENT_ID=your-application-client-id-here

# Client secret VALUE from Certificates & secrets
# Format: Alphanumeric string with special characters
# IMPORTANT: Copy the VALUE, not the Secret ID!
OAUTH_CLIENT_SECRET=your-client-secret-value-here

# Directory (tenant) ID from App Registration -> Overview
# Format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx (GUID)
# This is your Microsoft Entra External ID tenant
TENANT_ID=your-tenant-id-here

# ========================================
# VERIFICATION CHECKLIST
# ========================================
#
# Before running docker-compose up, make sure:
#
# [x] App Registration created in Azure Portal
# [x] Redirect URI configured: http://localhost:3001/login/generic_oauth
# [x] Client Secret created and VALUE copied
# [x] App Roles created (Admin, Editor, Viewer) - optional but recommended
# [x] Users assigned to roles in Enterprise applications
# [x] Token configuration includes "roles" claim - optional but recommended
# [x] All values above filled in (no placeholders)
#

# ========================================
# SECURITY NOTES
# ========================================
#
# WARNING: NEVER commit .env to version control!
# The .gitignore already excludes .env
# For production, use proper secret management (Azure Key Vault, etc.)
# Client secrets expire - check expiration date in Azure Portal
#

# ========================================
# NEXT STEPS
# ========================================
#
# After filling in the values:
#
# 1. Save this file as .env (remove .example)
# 2. Run: docker-compose up -d
# 3. Access: http://localhost:3001
# 4. Click "Sign in with Microsoft Entra"
# 5. Login with your Microsoft account
#
